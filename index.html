<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prototype génération d'île</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <script src="perlin.js"></script>
    <script src="island.js"></script>
    <script>
        // On récupère la taille de la page
        const [w, h] = [window.innerWidth, window.innerHeight]

        // On récupère l'accès au canvas
        let ctx = new_canvas_ctx(w, h)

        const resolution = 0.2
        const noise_scale = 0.0075
        const rayon_ile = 200
        const octaves = 1.5

        // On génère la matrice de valeurs de l'île
        let island = generer_ile(resolution, noise_scale, w, h, rayon_ile)
    
        // On dessine sur le canvas l'île en fonction de la résolution
        dessiner_ile(ctx, resolution, island, octaves)

        // On permet à l'utilisateur de régénérer l'île avec un click.
        document.body.addEventListener("click", () => {
            noiseSeed(Math.floor(Math.random() * 100))
            island = generer_ile(resolution, noise_scale, w, h, rayon_ile)
            dessiner_ile(ctx, resolution, island, octaves)
        })
    </script>
</body> 
</html>